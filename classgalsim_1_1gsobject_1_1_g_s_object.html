<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GalSim: galsim.gsobject.GSObject Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1gsobject.html">gsobject</a></li><li class="navelem"><a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html">GSObject</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgalsim_1_1gsobject_1_1_g_s_object-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">galsim.gsobject.GSObject Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for all GalSim classes that represent some kind of surface brightness profile.  
 <a href="classgalsim_1_1gsobject_1_1_g_s_object.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for galsim.gsobject.GSObject:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgalsim_1_1gsobject_1_1_g_s_object.png" usemap="#galsim.gsobject.GSObject_map" alt=""/>
  <map id="galsim.gsobject.GSObject_map" name="galsim.gsobject.GSObject_map">
<area href="classgalsim_1_1airy_1_1_airy.html" title="A class describing the surface brightness profile for an Airy disk (perfect diffraction-limited PSF f..." alt="galsim.airy.Airy" shape="rect" coords="271,56,532,80"/>
<area href="classgalsim_1_1box_1_1_box.html" title="A class describing a box profile. " alt="galsim.box.Box" shape="rect" coords="271,112,532,136"/>
<area href="classgalsim_1_1box_1_1_top_hat.html" title="A class describing a radial tophat profile. " alt="galsim.box.TopHat" shape="rect" coords="271,168,532,192"/>
<area href="classgalsim_1_1convolve_1_1_convolution.html" title="A class for convolving 2 or more GSObject instances. " alt="galsim.convolve.Convolution" shape="rect" coords="271,224,532,248"/>
<area href="classgalsim_1_1convolve_1_1_deconvolution.html" title="A class for deconvolving a GSObject. " alt="galsim.convolve.Deconvolution" shape="rect" coords="271,280,532,304"/>
<area href="classgalsim_1_1deltafunction_1_1_delta_function.html" title="A class describing a DeltaFunction surface brightness profile. " alt="galsim.deltafunction.DeltaFunction" shape="rect" coords="271,336,532,360"/>
<area href="classgalsim_1_1exponential_1_1_exponential.html" title="A class describing an exponential profile. " alt="galsim.exponential.Exponential" shape="rect" coords="271,392,532,416"/>
<area href="classgalsim_1_1fouriersqrt_1_1_fourier_sqrt_profile.html" title="A class for computing the Fourier-space sqrt of a GSObject. " alt="galsim.fouriersqrt.FourierSqrtProfile" shape="rect" coords="271,448,532,472"/>
<area href="classgalsim_1_1gaussian_1_1_gaussian.html" title="A class describing a 2D Gaussian surface brightness profile. " alt="galsim.gaussian.Gaussian" shape="rect" coords="271,504,532,528"/>
<area href="classgalsim_1_1inclined_1_1_inclined_exponential.html" title="A class describing an inclined exponential profile. " alt="galsim.inclined.InclinedExponential" shape="rect" coords="271,560,532,584"/>
<area href="classgalsim_1_1inclined_1_1_inclined_sersic.html" title="A class describing an inclined sersic profile. " alt="galsim.inclined.InclinedSersic" shape="rect" coords="271,616,532,640"/>
<area href="classgalsim_1_1interpolatedimage_1_1_interpolated_image.html" title="A class describing non-parametric profiles specified using an Image, which can be interpolated for th..." alt="galsim.interpolatedimage.InterpolatedImage" shape="rect" coords="271,672,532,696"/>
<area href="classgalsim_1_1interpolatedimage_1_1_interpolated_k_image.html" title="A class describing non-parametric profiles specified by samples of their complex Fourier transform..." alt="galsim.interpolatedimage.InterpolatedKImage" shape="rect" coords="271,728,532,752"/>
<area href="classgalsim_1_1kolmogorov_1_1_kolmogorov.html" title="A class describing a Kolmogorov surface brightness profile, which represents a long exposure atmosphe..." alt="galsim.kolmogorov.Kolmogorov" shape="rect" coords="271,784,532,808"/>
<area href="classgalsim_1_1moffat_1_1_moffat.html" title="A class describing a Moffat surface brightness profile. " alt="galsim.moffat.Moffat" shape="rect" coords="271,840,532,864"/>
<area href="classgalsim_1_1phase__psf_1_1_optical_p_s_f.html" title="A class describing aberrated PSFs due to telescope optics. " alt="galsim.phase_psf.OpticalPSF" shape="rect" coords="271,896,532,920"/>
<area href="classgalsim_1_1phase__psf_1_1_phase_screen_p_s_f.html" title="A PSF surface brightness profile constructed by integrating over time the instantaneous PSF derived f..." alt="galsim.phase_psf.PhaseScreenPSF" shape="rect" coords="271,952,532,976"/>
<area href="classgalsim_1_1randwalk_1_1_random_walk.html" title="A class for generating a set of point sources distributed using a random walk. " alt="galsim.randwalk.RandomWalk" shape="rect" coords="271,1008,532,1032"/>
<area href="classgalsim_1_1real_1_1_real_galaxy.html" title="A class describing real galaxies from some training dataset. " alt="galsim.real.RealGalaxy" shape="rect" coords="271,1064,532,1088"/>
<area href="classgalsim_1_1second__kick_1_1_second_kick.html" title="Class describing the expectation value of the high-k turbulence portion of an atmospheric PSF convolv..." alt="galsim.second_kick.SecondKick" shape="rect" coords="271,1120,532,1144"/>
<area href="classgalsim_1_1sersic_1_1_sersic.html" title="A class describing a Sersic profile. " alt="galsim.sersic.Sersic" shape="rect" coords="271,1176,532,1200"/>
<area href="classgalsim_1_1shapelet_1_1_shapelet.html" title="A class describing polar shapelet surface brightness profiles. " alt="galsim.shapelet.Shapelet" shape="rect" coords="271,1232,532,1256"/>
<area href="classgalsim_1_1spergel_1_1_spergel.html" title="A class describing a Spergel profile. " alt="galsim.spergel.Spergel" shape="rect" coords="271,1288,532,1312"/>
<area href="classgalsim_1_1sum_1_1_sum.html" title="A class for adding 2 or more GSObject instances. " alt="galsim.sum.Sum" shape="rect" coords="271,1344,532,1368"/>
<area href="classgalsim_1_1transform_1_1_transformation.html" title="A class for modeling an affine transformation of a GSObject instance. " alt="galsim.transform.Transformation" shape="rect" coords="271,1400,532,1424"/>
<area href="classgalsim_1_1vonkarman_1_1_von_karman.html" title="Class describing a von Karman surface brightness profile, which represents a long exposure atmospheri..." alt="galsim.vonkarman.VonKarman" shape="rect" coords="271,1456,532,1480"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a56ab26fdcd85c1d3c738d9830b2f1a86"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html#a56ab26fdcd85c1d3c738d9830b2f1a86">__init__</a> (self)</td></tr>
<tr class="separator:a56ab26fdcd85c1d3c738d9830b2f1a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130c72327d9215c23dd8be4bb9e900e5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html#a130c72327d9215c23dd8be4bb9e900e5">flux</a> (self)</td></tr>
<tr class="memdesc:a130c72327d9215c23dd8be4bb9e900e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether there are any hard edges in the profile, which would require very small k spacing when working in the Fourier domain.  <a href="#a130c72327d9215c23dd8be4bb9e900e5">More...</a><br /></td></tr>
<tr class="separator:a130c72327d9215c23dd8be4bb9e900e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for all GalSim classes that represent some kind of surface brightness profile. </p>
<p>A <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a> is not intended to be constructed directly. Normally, you would use whatever derived class is appropriate for the surface brightness profile you want: </p><pre class="fragment">&gt;&gt;&gt; gal = galsim.Sersic(n=4, half_light_radius=4.3)
&gt;&gt;&gt; psf = galsim.Moffat(beta=3, fwhm=2.85)
&gt;&gt;&gt; conv = galsim.Convolve([gal,psf])
</pre><p>All of these classes are subclasses of <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a>, so you should see those docstrings for more details about how to construct the various profiles. Here we discuss attributes and methods that are common to all GSObjects.</p>
<p>GSObjects are always defined in sky coordinates. So all sizes and other linear dimensions should be in terms of some kind of units on the sky, arcsec for instance. Only later (when they are drawn) is the connection to pixel coordinates established via a pixel scale or WCS. (See the documentation for galsim.BaseWCS for more details about how to specify various kinds of world coordinate systems more complicated than a simple pixel scale.)</p>
<p>For instance, if you eventually draw onto an image that has a pixel scale of 0.2 arcsec/pixel, then the normal thing to do would be to define your surface brightness profiles in terms of arcsec and then draw with <code>pixel_scale=0.2</code>. However, while arcsec are the usual choice of units for the sky coordinates, if you wanted, you could instead define the sizes of all your galaxies and PSFs in terms of radians and then use <code>pixel_scale=0.2/206265</code> when you draw them.</p>
<h2>Transforming Methods </h2>
<p>The <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a> class uses an "immutable" design[1], so all methods that would potentially modify the object actually return a new object instead. This uses pointers and such behind the scenes, so it all happens efficiently, but it makes using the objects a bit simpler, since you don't need to worry about some function changing your object behind your back.</p>
<p>In all cases below, we just give an example usage. See the docstrings for the methods for more details about how to use them. </p><pre class="fragment">&gt;&gt;&gt; obj = obj.shear(shear)      # Apply a shear to the object.
&gt;&gt;&gt; obj = obj.dilate(scale)     # Apply a flux-preserving dilation.
&gt;&gt;&gt; obj = obj.magnify(mu)       # Apply a surface-brightness-preserving magnification.
&gt;&gt;&gt; obj = obj.rotate(theta)     # Apply a rotation.
&gt;&gt;&gt; obj = obj.shift(dx,dy)      # Shft the object in real space.
&gt;&gt;&gt; obj = obj.transform(dudx,dudy,dvdx,dvdy)    # Apply a general jacobian transformation.
&gt;&gt;&gt; obj = obj.lens(g1,g2,mu)    # Apply both a lensing shear and magnification.
&gt;&gt;&gt; obj = obj.withFlux(flux)    # Set a new flux value.
&gt;&gt;&gt; obj = obj * ratio           # Scale the surface brightness profile by some factor.
</pre><h2>Access Methods </h2>
<p>There are some access methods and properties that are available for all GSObjects. Again, see the docstrings for each method for more details. </p><pre class="fragment">&gt;&gt;&gt; obj.flux
&gt;&gt;&gt; obj.centroid
&gt;&gt;&gt; obj.nyquist_scale
&gt;&gt;&gt; obj.stepk
&gt;&gt;&gt; obj.maxk
&gt;&gt;&gt; obj.has_hard_edges
&gt;&gt;&gt; obj.is_axisymmetric
&gt;&gt;&gt; obj.is_analytic_x
&gt;&gt;&gt; obj.is_analytic_k
&gt;&gt;&gt; obj.xValue(x,y) or obj.xValue(pos)
&gt;&gt;&gt; obj.kValue(kx,ky) os obj.kValue(kpos)
</pre><p>Most subclasses have additional methods that are available for values that are particular to that specific surface brightness profile. e.g. <code>sigma = gauss.getSigma()</code>. However, note that class-specific methods are not available after performing one of the above transforming operations. </p><pre class="fragment">&gt;&gt;&gt; gal = galsim.Gaussian(sigma=5)
&gt;&gt;&gt; gal = gal.shear(g1=0.2, g2=0.05)
&gt;&gt;&gt; sigma = gal.getSigma()              # This will raise an exception.
</pre><p>It is however possible to access the original object that was transformed via the <code>original</code> attribute. </p><pre class="fragment">&gt;&gt;&gt; sigma = gal.original.getSigma()     # This works.
</pre><p>No matter how many transformations are performed, the <code>original</code> attribute will contain the <em>original</em> object (not necessarily the most recent ancestor).</p>
<h2>Drawing Methods </h2>
<p>The main thing to do with a <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a> once you have built it is to draw it onto an image. There are two methods that do this. In both cases, there are lots of optional parameters. See the docstrings for these methods for more details. </p><pre class="fragment">&gt;&gt;&gt; image = obj.drawImage(...)
&gt;&gt;&gt; kimage = obj.drawKImage(...)
</pre><h2>Attributes </h2>
<p>There two attributes that may be available for a <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a>. </p><pre class="fragment">original    This was mentioned above as a way to access the original object that has
            been transformed by one of the transforming methods.

noise       Some types, like RealGalaxy, set this attribute to be the intrinsic noise that
            is already inherent in the profile and will thus be present when you draw the
            object.  The noise is propagated correctly through the various transforming
            methods, as well as convolutions and flux rescalings.  Note that the `noise`
            attribute can be set directly by users even for GSObjects that do not naturally
            have one. The typical use for this attribute is to use it to whiten the noise in
            the image after drawing.  See CorrelatedNoise for more details.
</pre><h2><a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> </h2>
<p>All <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a> classes take an optional <code>gsparams</code> argument, so we document that feature here. For all documentation about the specific derived classes, please see the docstring for each one individually.</p>
<p>The <code>gsparams</code> argument can be used to specify various numbers that govern the tradeoff between accuracy and speed for the calculations made in drawing a <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a>. The numbers are encapsulated in a class called <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a>, and the user should make careful choices whenever they opt to deviate from the defaults. For more details about the parameters and their default values, please see the docstring of the <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> class (e.g. type <code>help(<a class="el" href="structgalsim_1_1_g_s_params.html">galsim.GSParams</a>)</code>).</p>
<p>For example, let's say you want to do something that requires an FFT larger than 4096 x 4096 (and you have enough memory to handle it!). Then you can create a new <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> object with a larger <code>maximum_fft_size</code> and pass that to your <a class="el" href="classgalsim_1_1gsobject_1_1_g_s_object.html" title="Base class for all GalSim classes that represent some kind of surface brightness profile. ">GSObject</a> on construction: </p><pre class="fragment">&gt;&gt;&gt; gal = galsim.Sersic(n=4, half_light_radius=4.3)
&gt;&gt;&gt; psf = galsim.Moffat(beta=3, fwhm=2.85)
&gt;&gt;&gt; conv = galsim.Convolve([gal,psf])
&gt;&gt;&gt; im = galsim.Image(1000,1000, scale=0.02)        # Note the very small pixel scale!
&gt;&gt;&gt; im = conv.drawImage(image=im)                   # This uses the default GSParams.
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "galsim/gsobject.py", line 1666, in drawImage
    added_photons = prof.drawFFT(draw_image, add)
  File "galsim/gsobject.py", line 1877, in drawFFT
    kimage, wrap_size = self.drawFFT_makeKImage(image)
  File "galsim/gsobject.py", line 1802, in drawFFT_makeKImage
    raise GalSimFFTSizeError("drawFFT requires an FFT that is too large.", Nk)
galsim.errors.GalSimFFTSizeError: drawFFT requires an FFT that is too large.
The required FFT size would be 12288 x 12288, which requires 3.38 GB of memory.
If you can handle the large FFT, you may update gsparams.maximum_fft_size.
&gt;&gt;&gt; big_fft_params = galsim.GSParams(maximum_fft_size=12300)
&gt;&gt;&gt; conv = galsim.Convolve([gal,psf],gsparams=big_fft_params)
&gt;&gt;&gt; im = conv.drawImage(image=im)                   # Now it works (but is slow!)
&gt;&gt;&gt; im.write('high_res_sersic.fits')
</pre><p>Note that for compound objects such as Convolution or Sum, not all <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> can be changed when the compound object is created. In the example given here, it is possible to change parameters related to the drawing, but not the Fourier space parameters for the components that go into the Convolution. To get better sampling in Fourier space, for example, the <code>gal</code> and/or <code>psf</code> should be created with <code>gsparams</code> that have a non-default value of <code>folding_threshold</code>. This statement applies to the threshold and accuracy parameters. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a56ab26fdcd85c1d3c738d9830b2f1a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56ab26fdcd85c1d3c738d9830b2f1a86">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.gsobject.GSObject.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a130c72327d9215c23dd8be4bb9e900e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130c72327d9215c23dd8be4bb9e900e5">&#9670;&nbsp;</a></span>flux()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.gsobject.GSObject.flux </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether there are any hard edges in the profile, which would require very small k spacing when working in the Fourier domain. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>galsim/<a class="el" href="gsobject_8py.html">gsobject.py</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14</small></address>
</body>
</html>
