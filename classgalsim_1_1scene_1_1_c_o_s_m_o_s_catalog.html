<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: galsim.scene.COSMOSCatalog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1scene.html">scene</a></li><li class="navelem"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html">COSMOSCatalog</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">galsim.scene.COSMOSCatalog Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class representing a random subsample of galaxies from the COSMOS sample with F814W&lt;25.2 (default for GalSim v1.4), or alternatively the entire sample with F814W&lt;23.5 (which was the default for GalSim v1.3).  
 <a href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for galsim.scene.COSMOSCatalog:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.png" usemap="#galsim.scene.COSMOSCatalog_map" alt=""/>
  <map id="galsim.scene.COSMOSCatalog_map" name="galsim.scene.COSMOSCatalog_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5f437f9c328223b18edda3e604df3113"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a5f437f9c328223b18edda3e604df3113">__init__</a></td></tr>
<tr class="separator:a5f437f9c328223b18edda3e604df3113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e59bc59e5738bf642a4669da11d7762"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a2e59bc59e5738bf642a4669da11d7762">getNObjects</a></td></tr>
<tr class="separator:a2e59bc59e5738bf642a4669da11d7762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92568862d18d93b024648ecef23601a4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a92568862d18d93b024648ecef23601a4">getOrigIndex</a></td></tr>
<tr class="separator:a92568862d18d93b024648ecef23601a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f33ad9d08f829ef89f5d802bc4cb9da"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a0f33ad9d08f829ef89f5d802bc4cb9da">getNTot</a></td></tr>
<tr class="separator:a0f33ad9d08f829ef89f5d802bc4cb9da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c7cff2ee6241b8beeda1a8198e9612"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a73c7cff2ee6241b8beeda1a8198e9612">makeGalaxy</a></td></tr>
<tr class="memdesc:a73c7cff2ee6241b8beeda1a8198e9612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine to construct GSObjects corresponding to the catalog entry with a particular index or indices.  <a href="#a73c7cff2ee6241b8beeda1a8198e9612">More...</a><br/></td></tr>
<tr class="separator:a73c7cff2ee6241b8beeda1a8198e9612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7c5727d76551bcf17c70b4237c8590"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#ada7c5727d76551bcf17c70b4237c8590">selectRandomIndex</a></td></tr>
<tr class="memdesc:ada7c5727d76551bcf17c70b4237c8590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine to select random indices out of the catalog.  <a href="#ada7c5727d76551bcf17c70b4237c8590">More...</a><br/></td></tr>
<tr class="separator:ada7c5727d76551bcf17c70b4237c8590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1197a719880b5a89ec689988f6dfaf"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#afc1197a719880b5a89ec689988f6dfaf">getRealParams</a></td></tr>
<tr class="memdesc:afc1197a719880b5a89ec689988f6dfaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the parameters needed to make a RealGalaxy for a given index.  <a href="#afc1197a719880b5a89ec689988f6dfaf">More...</a><br/></td></tr>
<tr class="separator:afc1197a719880b5a89ec689988f6dfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d74495e26743a97d0969ce47ab69411"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a2d74495e26743a97d0969ce47ab69411">getParametricRecord</a></td></tr>
<tr class="memdesc:a2d74495e26743a97d0969ce47ab69411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the parametric record for a given index.  <a href="#a2d74495e26743a97d0969ce47ab69411">More...</a><br/></td></tr>
<tr class="separator:a2d74495e26743a97d0969ce47ab69411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34bdc98cacf27b5adb520b2cc3199e8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#aa34bdc98cacf27b5adb520b2cc3199e8">canMakeReal</a></td></tr>
<tr class="memdesc:aa34bdc98cacf27b5adb520b2cc3199e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is it permissible to call makeGalaxy with gal_type='real'?  <a href="#aa34bdc98cacf27b5adb520b2cc3199e8">More...</a><br/></td></tr>
<tr class="separator:aa34bdc98cacf27b5adb520b2cc3199e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a95205e6e76a9a1c7033b4ecb7229c751"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a95205e6e76a9a1c7033b4ecb7229c751">use_real</a></td></tr>
<tr class="separator:a95205e6e76a9a1c7033b4ecb7229c751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a78f4cf77a6c7c16e7193db6103b842"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a7a78f4cf77a6c7c16e7193db6103b842">use_sample</a></td></tr>
<tr class="separator:a7a78f4cf77a6c7c16e7193db6103b842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad3ca2f7bd628913de0d5132869f451"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a2ad3ca2f7bd628913de0d5132869f451">real_cat</a></td></tr>
<tr class="separator:a2ad3ca2f7bd628913de0d5132869f451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a64ff92e831b354dd54a3b5dcbc7921"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a8a64ff92e831b354dd54a3b5dcbc7921">param_cat</a></td></tr>
<tr class="separator:a8a64ff92e831b354dd54a3b5dcbc7921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026685a066003e4195c172af4f2bfea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a026685a066003e4195c172af4f2bfea1">orig_index</a></td></tr>
<tr class="separator:a026685a066003e4195c172af4f2bfea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc164a6cfa67497f4857ea4b83bccf0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#adc164a6cfa67497f4857ea4b83bccf0b">selection_cat</a></td></tr>
<tr class="separator:adc164a6cfa67497f4857ea4b83bccf0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a44bb0f10e7991c211f576af24c387d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a8a44bb0f10e7991c211f576af24c387d">nobjects</a></td></tr>
<tr class="separator:a8a44bb0f10e7991c211f576af24c387d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class representing a random subsample of galaxies from the COSMOS sample with F814W&lt;25.2 (default for GalSim v1.4), or alternatively the entire sample with F814W&lt;23.5 (which was the default for GalSim v1.3). </p>
<p>Depending on the keyword arguments, particularly <code>use_real</code>, the catalog will either have information about real galaxies, and/or parametric ones. To use this with either type of galaxies, you need to get the COSMOS datasets in the format that GalSim recognizes; see </p>
<pre class="fragment">https://github.com/GalSim-developers/GalSim/wiki/RealGalaxy-Data
</pre><p>option (1) for more information. Note that if you want to make real galaxies you need to download and store the full tarball with all galaxy images, whereas if you want to make parametric galaxies you only need the catalog real_galaxy_catalog_25.2_fits.fits (and the selection file real_galaxy_catalog_25.2_selection.fits if you want to place cuts on the postage stamp quality) and can delete the galaxy and PSF image files.</p>
<p>Finally, we provide a program that will download the large COSMOS sample for you and put it in the $PREFIX/share/galsim directory of your installation path. The program is </p>
<pre class="fragment">    galsim_download_cosmos
</pre><p>which gets installed in the $PREFIX/bin directory when you install GalSim. If you use this program to download the COSMOS catalog, then you can use it with </p>
<pre class="fragment">    cat = galsim.COSMOSCatalog()
</pre><p>GalSim knows the location of the installation share directory, so it will automatically look for it there.</p>
<p>In addition to the option of specifying catalog names, this class also accepts a keyword argument <code>sample</code> that can be used to switch between the samples with limiting magnitudes of 23.5 and 25.2.</p>
<p>After getting the catalogs, there is a method <a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a73c7cff2ee6241b8beeda1a8198e9612" title="Routine to construct GSObjects corresponding to the catalog entry with a particular index or indices...">makeGalaxy()</a> that can make a GSObject corresponding to any chosen galaxy in the catalog (whether real or parametric). See help(galsim.COSMOSCatalog.makeGalaxy) for more information. As an interesting application and example of the usage of these routines, consider the following code: </p>
<pre class="fragment">&gt;&gt;&gt; im_size = 64
&gt;&gt;&gt; pix_scale = 0.05
&gt;&gt;&gt; bp_file = os.path.join(galsim.meta_data.share_dir, 'wfc_F814W.dat.gz')
&gt;&gt;&gt; bandpass = galsim.Bandpass(bp_file, wave_type='ang').thin().withZeropoint(25.94)
&gt;&gt;&gt; cosmos_cat = galsim.COSMOSCatalog()
&gt;&gt;&gt; psf = galsim.OpticalPSF(diam=2.4, lam=1000.) # bigger than HST F814W PSF.
&gt;&gt;&gt; indices = np.arange(10)
&gt;&gt;&gt; real_gal_list = cosmos_cat.makeGalaxy(indices, gal_type='real',
...                                       noise_pad_size=im_size*pix_scale)
&gt;&gt;&gt; param_gal_list = cosmos_cat.makeGalaxy(indices, gal_type='parametric', chromatic=True)
&gt;&gt;&gt; for ind in indices:
&gt;&gt;&gt;     real_gal = galsim.Convolve(real_gal_list[ind], psf)
&gt;&gt;&gt;     param_gal = galsim.Convolve(param_gal_list[ind], psf)
&gt;&gt;&gt;     im_real = galsim.Image(im_size, im_size)
&gt;&gt;&gt;     im_param = galsim.Image(im_size, im_size)
&gt;&gt;&gt;     real_gal.drawImage(image=im_real, scale=pix_scale)
&gt;&gt;&gt;     param_gal.drawImage(bandpass, image=im_param, scale=pix_scale)
&gt;&gt;&gt;     im_real.write('im_real_'+str(ind)+'.fits')
&gt;&gt;&gt;     im_param.write('im_param_'+str(ind)+'.fits')
</pre><p>This code snippet will draw images of the first 10 entries in the COSMOS catalog, at slightly lower resolution than in COSMOS, with a real image and its parametric representation for each of those objects.</p>
<h2>Initialization </h2>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_name</td><td>The file containing the catalog. [default: None, which will look for the F814W&lt;25.2 COSMOS catalog in $PREFIX/share/galsim. It will raise an exception if the catalog is not there telling you to run galsim_download_cosmos.] </td></tr>
    <tr><td class="paramname">sample</td><td>A keyword argument that can be used to specify the sample to use, i.e., "23.5" or "25.2". At most one of <code>file_name</code> and <code>sample</code> should be specified. [default: None, which results in the same default as <code>file_name=None</code>.] </td></tr>
    <tr><td class="paramname">dir</td><td>The directory with the catalog file and, if making realistic galaxies, the image and noise files (or symlinks to them). [default: None, which will look in $PREFIX/share/galsim.] </td></tr>
    <tr><td class="paramname">preload</td><td>Keyword that is only used for real galaxies, not parametric ones, to choose whether to preload the header information. If <code>preload=True</code>, the bulk of the I/O time is in the constructor. If <code>preload=False</code>, there is approximately the same total I/O time (assuming you eventually use most of the image files referenced in the catalog), but it is spread over the calls to <a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html#a73c7cff2ee6241b8beeda1a8198e9612" title="Routine to construct GSObjects corresponding to the catalog entry with a particular index or indices...">makeGalaxy()</a>. [default: False] </td></tr>
    <tr><td class="paramname">use_real</td><td>Enable the use of realistic galaxies? [default: True] If this parameter is False, then `makeGalaxy(gal_type='real')` will not be allowed, and there will be a (modest) decrease in RAM and time spent on I/O when initializing the <a class="el" href="classgalsim_1_1scene_1_1_c_o_s_m_o_s_catalog.html" title="A class representing a random subsample of galaxies from the COSMOS sample with F814W<25.2 (default for GalSim v1.4), or alternatively the entire sample with F814W<23.5 (which was the default for GalSim v1.3). ">COSMOSCatalog</a>. If the real catalog is not available for some reason, it will still be possible to make parametric images. </td></tr>
    <tr><td class="paramname">exclusion_level</td><td>Level of additional cuts to make on the galaxies based on the quality of postage stamp definition and/or parametric fit quality [beyond the minimal cuts imposed when making the catalog - see Mandelbaum et al. (2012, MNRAS, 420, 1518) for details]. Options: "none": No cuts. "bad_stamp": Apply cuts to eliminate galaxies that have failures in postage stamp definition. These cuts may also eliminate a small subset of the good postage stamps as well. "bad_fits": Apply cuts to eliminate galaxies that have failures in the parametric fits. These cuts may also eliminate a small subset of the good parametric fits as well. "marginal": Apply the above cuts, plus ones that eliminate some more marginal cases. [default: "marginal"] </td></tr>
    <tr><td class="paramname">min_hlr</td><td>Exclude galaxies whose fitted half-light radius is smaller than this value (in arcsec). [default: 0, meaning no limit] </td></tr>
    <tr><td class="paramname">max_hlr</td><td>Exclude galaxies whose fitted half-light radius is larger than this value (in arcsec). [default: 0, meaning no limit] </td></tr>
    <tr><td class="paramname">min_flux</td><td>Exclude galaxies whose fitted flux is smaller than this value. [default: 0, meaning no limit] </td></tr>
    <tr><td class="paramname">max_flux</td><td>Exclude galaxies whose fitted flux is larger than this value. [default: 0, meaning no limit]</td></tr>
  </table>
  </dd>
</dl>
<h2>Attributes </h2>
<p>After construction, the following attributes are available:</p>
<p>nobjects The number of objects in the catalog </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5f437f9c328223b18edda3e604df3113"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sample</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_dir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>preload</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noise_dir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_real</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exclusion_level</em> = <code>'marginal'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_hlr</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_hlr</em> = <code>0.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_flux</em> = <code>0.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_flux</em> = <code>0.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_nobjects_only</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exclude_bad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exclude_fail</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa34bdc98cacf27b5adb520b2cc3199e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.canMakeReal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is it permissible to call makeGalaxy with gal_type='real'? </p>

</div>
</div>
<a class="anchor" id="a2e59bc59e5738bf642a4669da11d7762"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.getNObjects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0f33ad9d08f829ef89f5d802bc4cb9da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.getNTot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a92568862d18d93b024648ecef23601a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.getOrigIndex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d74495e26743a97d0969ce47ab69411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.getParametricRecord </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the parametric record for a given index. </p>

</div>
</div>
<a class="anchor" id="afc1197a719880b5a89ec689988f6dfaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.getRealParams </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the parameters needed to make a RealGalaxy for a given index. </p>

</div>
</div>
<a class="anchor" id="a73c7cff2ee6241b8beeda1a8198e9612"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.makeGalaxy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gal_type</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chromatic</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noise_pad_size</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deep</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sersic_prec</em> = <code>0.05</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rng</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_random</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gsparams</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Routine to construct GSObjects corresponding to the catalog entry with a particular index or indices. </p>
<p>The flux of the galaxy corresponds to a 1 second exposure time with the Hubble Space Telescope. Users who wish to simulate F814W images with a different telescope and an exposure time longer than 1 second should multiply by that exposure time, and by the square of the ratio of the effective diameter of their telescope compared to that of HST. (Effective diameter may differ from the actual diameter if there is significant obscuration.) See demo11.py for an example that explicitly takes this normalization into account.</p>
<p>Due to the adopted flux normalization, drawing into an image with the COSMOS bandpass, zeropoint of 25.94, and pixel scale should give the right pixel values to mimic the actual COSMOS science images. The COSMOS science images that we use are normalized to a count rate of 1 second, which is why there is no need to rescale to account for the COSMOS exposure time.</p>
<p>There is an option to make chromatic objects (<code>chromatic=True</code>); however, it is important to bear in mind that we do not actually have spatially-resolved color information for these galaxies, so this keyword can only be True if we are using parametric galaxies. Even then, we simply do the most arbitrary thing possible, which is to assign bulges an elliptical SED, disks a disk-like SED, and Sersic galaxies with intermediate values of n some intermediate SED. We assume that the photometric redshift is the correct redshift for these galaxies (which is a good assumption for COSMOS 30-band photo-z for these bright galaxies). For the given SED and redshift, we then normalize to give the right (observed) flux in F814W. Note that for a mock "deep" sample, the redshift distributions of the galaxies would be modified, which is not included here.</p>
<p>For this chromatic option, it is still the case that the output flux normalization is appropriate for the HST effective telescope diameter and a 1 second exposure time, so users who are simulating another scenario should account for this.</p>
<p>Note that the returned objects use arcsec for the units of their linear dimension. If you are using a different unit for other things (the PSF, WCS, etc.), then you should dilate the resulting object with <code>gal.dilate(<a class="el" href="namespacegalsim.html#ac3e6f6efd0f7ad138601e798ff3e1790" title="constant with units of arcseconds ">galsim.arcsec</a> / scale_unit)</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the desired galaxy in the catalog for which a GSObject should be constructed. You may also provide a list or array of indices, in which case a list of objects is returned. If None, then a random galaxy (or more: see n_random kwarg) is chosen, correcting for catalog-level selection effects if weights are available. [default: None] </td></tr>
    <tr><td class="paramname">gal_type</td><td>Either 'real' or 'parametric'. This determines which kind of galaxy model is made. [If catalog was loaded with <code>use_real=False</code>, then this defaults to 'parametric', and in fact 'real' is not allowed. If catalog was loaded with <code>use_real=True</code>, then this defaults to 'real'.] </td></tr>
    <tr><td class="paramname">chromatic</td><td>Make this a chromatic object, or not? [default: False] </td></tr>
    <tr><td class="paramname">noise_pad_size</td><td>For realistic galaxies, the size of region to pad with noise, in arcsec. [default: 5, an arbitrary, but not completely ridiculous choice.] </td></tr>
    <tr><td class="paramname">deep</td><td>Modify fluxes and sizes of galaxies from the F814W&lt;23.5 sample in order to roughly simulate an F814W&lt;25 sample but with higher S/N, as in GREAT3? [default: False] Note that this keyword will be ignored (except for issuing a warning) if the input catalog already represents the F814W&lt;25.2 sample. </td></tr>
    <tr><td class="paramname">sersic_prec</td><td>The desired precision on the Sersic index n in parametric galaxies. GalSim is significantly faster if it gets a smallish number of Sersic values, so it can cache some of the calculations and use them again the next time it gets a galaxy with the same index. If `sersic_prec` is 0.0, then use the exact value of index n from the catalog. But if it is &gt;0, then round the index to that precision. [default: 0.05] </td></tr>
    <tr><td class="paramname">rng</td><td>A random number generator to use for selecting a random galaxy (may be any kind of <a class="el" href="classgalsim_1_1_base_deviate.html" title="Base class for all the various Deviates. ">BaseDeviate</a> or None) and to use in generating any noise field when padding. [default: None] </td></tr>
    <tr><td class="paramname">n_random</td><td>The number of random galaxies to build, if 'index' is None. [default: 1] </td></tr>
    <tr><td class="paramname">gsparams</td><td>An optional <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> argument. See the docstring for <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a> for details. [default: None]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Either a GSObject or a ChromaticObject depending on the value of <code>chromatic</code>, or a list of them if <code>index</code> is an iterable. </dd></dl>

</div>
</div>
<a class="anchor" id="ada7c5727d76551bcf17c70b4237c8590"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.scene.COSMOSCatalog.selectRandomIndex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_random</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rng</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_n_rng_calls</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Routine to select random indices out of the catalog. </p>
<p>This routine does a weighted random selection with replacement (i.e., there is no guarantee of uniqueness of the selected indices). Weighting uses the weight factors available in the catalog, if any; these weights are typically meant to remove any selection effects in the catalog creation process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_random</td><td>Number of random indices to return. [default: 1] </td></tr>
    <tr><td class="paramname">rng</td><td>A random number generator to use for selecting a random galaxy (may be any kind of <a class="el" href="classgalsim_1_1_base_deviate.html" title="Base class for all the various Deviates. ">BaseDeviate</a> or None). [default: None] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A single index if n_random==1 or a NumPy array containing the randomly-selected indices if n_random&gt;1. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8a44bb0f10e7991c211f576af24c387d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.nobjects</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a026685a066003e4195c172af4f2bfea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.orig_index</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8a64ff92e831b354dd54a3b5dcbc7921"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.param_cat</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ad3ca2f7bd628913de0d5132869f451"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.real_cat</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="adc164a6cfa67497f4857ea4b83bccf0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.selection_cat</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a95205e6e76a9a1c7033b4ecb7229c751"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.use_real</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7a78f4cf77a6c7c16e7193db6103b842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.scene.COSMOSCatalog.use_sample</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>galsim/<a class="el" href="scene_8py.html">scene.py</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
