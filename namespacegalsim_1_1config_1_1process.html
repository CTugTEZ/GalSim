<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: galsim.config.process Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1config.html">config</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1config_1_1process.html">process</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">galsim.config.process Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1process_1_1_logger_wrapper.html">LoggerWrapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A wrap around a Logger object that checks whether a debug or info or warn call will actually produce any output before calling the functions.  <a href="classgalsim_1_1config_1_1process_1_1_logger_wrapper.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3e2f45373eb6b5719628e30931548d2a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a3e2f45373eb6b5719628e30931548d2a">ReadYaml</a></td></tr>
<tr class="memdesc:a3e2f45373eb6b5719628e30931548d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in a YAML configuration file and return the corresponding dicts.  <a href="#a3e2f45373eb6b5719628e30931548d2a">More...</a><br/></td></tr>
<tr class="separator:a3e2f45373eb6b5719628e30931548d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc6be7003a2a8c7ee886b88326e5901"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a8fc6be7003a2a8c7ee886b88326e5901">ReadJson</a></td></tr>
<tr class="memdesc:a8fc6be7003a2a8c7ee886b88326e5901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in a JSON configuration file and return the corresponding dicts.  <a href="#a8fc6be7003a2a8c7ee886b88326e5901">More...</a><br/></td></tr>
<tr class="separator:a8fc6be7003a2a8c7ee886b88326e5901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0283c351828427c396072ca008226b05"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a0283c351828427c396072ca008226b05">ReadConfig</a></td></tr>
<tr class="memdesc:a0283c351828427c396072ca008226b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read in a configuration file and return the corresponding dicts.  <a href="#a0283c351828427c396072ca008226b05">More...</a><br/></td></tr>
<tr class="separator:a0283c351828427c396072ca008226b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59e580c3e1f9febd04d1d1645d66e99f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a59e580c3e1f9febd04d1d1645d66e99f">RemoveCurrent</a></td></tr>
<tr class="memdesc:a59e580c3e1f9febd04d1d1645d66e99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove any "current values" stored in the config dict at any level.  <a href="#a59e580c3e1f9febd04d1d1645d66e99f">More...</a><br/></td></tr>
<tr class="separator:a59e580c3e1f9febd04d1d1645d66e99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3b9bcfe8a0a46b67842e1f2690f8a2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a2f3b9bcfe8a0a46b67842e1f2690f8a2">CopyConfig</a></td></tr>
<tr class="memdesc:a2f3b9bcfe8a0a46b67842e1f2690f8a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">If you want to use a config dict for multiprocessing, you need to deep copy the gal, psf, and pix fields, since they cache values that are not picklable.  <a href="#a2f3b9bcfe8a0a46b67842e1f2690f8a2">More...</a><br/></td></tr>
<tr class="separator:a2f3b9bcfe8a0a46b67842e1f2690f8a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac683277c41e633489846a9f4cc5f913b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#ac683277c41e633489846a9f4cc5f913b">GetLoggerProxy</a></td></tr>
<tr class="memdesc:ac683277c41e633489846a9f4cc5f913b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a proxy for the given logger that can be passed into multiprocessing Processes and used safely.  <a href="#ac683277c41e633489846a9f4cc5f913b">More...</a><br/></td></tr>
<tr class="separator:ac683277c41e633489846a9f4cc5f913b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efe4ce1dfa45aa7889437310d6585c4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a7efe4ce1dfa45aa7889437310d6585c4">UpdateNProc</a></td></tr>
<tr class="memdesc:a7efe4ce1dfa45aa7889437310d6585c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update nproc.  <a href="#a7efe4ce1dfa45aa7889437310d6585c4">More...</a><br/></td></tr>
<tr class="separator:a7efe4ce1dfa45aa7889437310d6585c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae416f9452a4670d40d7d436ab58e91"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a1ae416f9452a4670d40d7d436ab58e91">SetupConfigRNG</a></td></tr>
<tr class="memdesc:a1ae416f9452a4670d40d7d436ab58e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the RNG in the config dict.  <a href="#a1ae416f9452a4670d40d7d436ab58e91">More...</a><br/></td></tr>
<tr class="separator:a1ae416f9452a4670d40d7d436ab58e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209ca3d17f2f2226c671a8841d3eb19e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a209ca3d17f2f2226c671a8841d3eb19e">ImportModules</a></td></tr>
<tr class="memdesc:a209ca3d17f2f2226c671a8841d3eb19e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import any modules listed in config['modules'].  <a href="#a209ca3d17f2f2226c671a8841d3eb19e">More...</a><br/></td></tr>
<tr class="separator:a209ca3d17f2f2226c671a8841d3eb19e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20c48de31fd337b24aebe019d4c5851"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#ac20c48de31fd337b24aebe019d4c5851">ParseExtendedKey</a></td></tr>
<tr class="memdesc:ac20c48de31fd337b24aebe019d4c5851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverse all but the last item in an extended key and return the resulting config, key.  <a href="#ac20c48de31fd337b24aebe019d4c5851">More...</a><br/></td></tr>
<tr class="separator:ac20c48de31fd337b24aebe019d4c5851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107b5621126382da6fa7334d05abfc5e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a107b5621126382da6fa7334d05abfc5e">GetFromConfig</a></td></tr>
<tr class="memdesc:a107b5621126382da6fa7334d05abfc5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value for the (possibly extended) key from a config dict.  <a href="#a107b5621126382da6fa7334d05abfc5e">More...</a><br/></td></tr>
<tr class="separator:a107b5621126382da6fa7334d05abfc5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d4cf2fc65618e3bc4b0dd03070c909"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#ad8d4cf2fc65618e3bc4b0dd03070c909">SetInConfig</a></td></tr>
<tr class="memdesc:ad8d4cf2fc65618e3bc4b0dd03070c909"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of a (possibly extended) key in a config dict.  <a href="#ad8d4cf2fc65618e3bc4b0dd03070c909">More...</a><br/></td></tr>
<tr class="separator:ad8d4cf2fc65618e3bc4b0dd03070c909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c4bde507ac32fb97ee20d3ac727d10"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#ad5c4bde507ac32fb97ee20d3ac727d10">UpdateConfig</a></td></tr>
<tr class="memdesc:ad5c4bde507ac32fb97ee20d3ac727d10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the given config dict with additional parameters/values.  <a href="#ad5c4bde507ac32fb97ee20d3ac727d10">More...</a><br/></td></tr>
<tr class="separator:ad5c4bde507ac32fb97ee20d3ac727d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79f6dc3c4dc6eabda90586ff041dc99"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#ae79f6dc3c4dc6eabda90586ff041dc99">ProcessTemplate</a></td></tr>
<tr class="memdesc:ae79f6dc3c4dc6eabda90586ff041dc99"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the config dict has a 'template' item, read in the appropriate file and make any requested updates.  <a href="#ae79f6dc3c4dc6eabda90586ff041dc99">More...</a><br/></td></tr>
<tr class="separator:ae79f6dc3c4dc6eabda90586ff041dc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a2fd92cc7fe479575b851f86ced891"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a55a2fd92cc7fe479575b851f86ced891">ProcessAllTemplates</a></td></tr>
<tr class="memdesc:a55a2fd92cc7fe479575b851f86ced891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check through the full config dict and process any fields that have a 'template' item.  <a href="#a55a2fd92cc7fe479575b851f86ced891">More...</a><br/></td></tr>
<tr class="separator:a55a2fd92cc7fe479575b851f86ced891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecdb648fc17c8218541f5471629fbc9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a2ecdb648fc17c8218541f5471629fbc9">Process</a></td></tr>
<tr class="memdesc:a2ecdb648fc17c8218541f5471629fbc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do all processing of the provided configuration dict.  <a href="#a2ecdb648fc17c8218541f5471629fbc9">More...</a><br/></td></tr>
<tr class="separator:a2ecdb648fc17c8218541f5471629fbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b3afb0e52fb08051bcd2719900fc74"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a01b3afb0e52fb08051bcd2719900fc74">MultiProcess</a></td></tr>
<tr class="memdesc:a01b3afb0e52fb08051bcd2719900fc74"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper function for performing a task using multiprocessing.  <a href="#a01b3afb0e52fb08051bcd2719900fc74">More...</a><br/></td></tr>
<tr class="separator:a01b3afb0e52fb08051bcd2719900fc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1569f7820d7d2e9e7f8c4984410d370f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1config_1_1process.html#a1569f7820d7d2e9e7f8c4984410d370f">OrderedDict</a> = dict</td></tr>
<tr class="separator:a1569f7820d7d2e9e7f8c4984410d370f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2f3b9bcfe8a0a46b67842e1f2690f8a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.CopyConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If you want to use a config dict for multiprocessing, you need to deep copy the gal, psf, and pix fields, since they cache values that are not picklable. </p>
<p>If you don't do the deep copy, then python balks when trying to send the updated config dict back to the root process. We do this a few different times, so encapsulate the copy semantics once here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict to copy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a deep copy of the config dict. </dd></dl>

</div>
</div>
<a class="anchor" id="a107b5621126382da6fa7334d05abfc5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.GetFromConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value for the (possibly extended) key from a config dict. </p>
<p>If key is a simple string, then this is equivalent to config[key]. However, key is allowed to be a chain of keys such as 'gal.items.0.ellip.e', in which case this function will return config['gal']['items'][0]['ellip']['e'].</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">key</td><td>The possibly extended key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of that key from the config. </dd></dl>

</div>
</div>
<a class="anchor" id="ac683277c41e633489846a9f4cc5f913b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.GetLoggerProxy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a proxy for the given logger that can be passed into multiprocessing Processes and used safely. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logger</td><td>The logger to make a copy of</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a proxy for the given logger </dd></dl>

</div>
</div>
<a class="anchor" id="a209ca3d17f2f2226c671a8841d3eb19e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ImportModules </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import any modules listed in config['modules']. </p>
<p>These won't be brought into the running scope of the config processing, but any side effects of the import statements will persist. In particular, these are allowed to register additional custom types that can then be used in the current config dict.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a01b3afb0e52fb08051bcd2719900fc74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.MultiProcess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nproc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>job_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>done_func</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>except_func</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>except_abort</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper function for performing a task using multiprocessing. </p>
<p>A note about the nomenclature here. We use the term "job" to mean the job of building a single file or image or stamp. The output of each job is gathered into the list of results that is returned. A task is a collection of one or more jobs that are all done by the same processor. For simple cases, each task is just a single job, but for things like a Ring test, the task needs to have the jobs for a full ring.</p>
<p>The tasks argument is a list of tasks. Each task in that list is a list of jobs. Each job is a tuple consisting of (kwargs, k), where kwargs is the dict of kwargs to pass to the job_func and k is the index of this job in the full list of jobs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nproc</td><td>How many processes to use. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">job_func</td><td>The function to run for each job. It will be called as result = job_func(**kwargs) where kwargs is from one of the jobs in the task list. </td></tr>
    <tr><td class="paramname">tasks</td><td>A list of tasks to run. Each task is a list of jobs, each of which is a tuple (kwargs, k). </td></tr>
    <tr><td class="paramname">item</td><td>A string indicating what is being worked on. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None] </td></tr>
    <tr><td class="paramname">done_func</td><td>A function to run upon completion of each job. It will be called as done_func(logger, proc, k, result, t) where proc is the process name, k is the index of the job, result is the return value of that job, and t is the time taken. [default: None] </td></tr>
    <tr><td class="paramname">except_func</td><td>A function to run if an exception is encountered. It will be called as except_func(logger, proc, k, ex, tr) where proc is the process name, k is the index of the job that failed, ex is the exception caught, and tr is the traceback. [default: None] </td></tr>
    <tr><td class="paramname">except_abort</td><td>Whether an exception should abort the rest of the processing. If False, then the returned results list will not include anything for the jobs that failed. [default: True]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of the outputs from job_func for each job </dd></dl>

</div>
</div>
<a class="anchor" id="ac20c48de31fd337b24aebe019d4c5851"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ParseExtendedKey </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traverse all but the last item in an extended key and return the resulting config, key. </p>
<p>If key is an extended key like gal.items.0.ellip.e, then this will return the tuple. (config['gal']['items'][0]['ellip'], 'e').</p>
<p>If key is a regular string, then is just returns the original (config, key).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">key</td><td>The possibly extended key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the equivalent (config, key) where key is now a regular non-extended key. </dd></dl>

</div>
</div>
<a class="anchor" id="a2ecdb648fc17c8218541f5471629fbc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.Process </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>njobs</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>job</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_params</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do all processing of the provided configuration dict. </p>
<p>In particular, this function handles processing the output field, calling other functions to build and write the specified files. The input field is processed before building each file.</p>
<p>Sometimes, it can be helpful to split up a processing jobs over multiple machines (i.e. not just multiple processes, which can be handled natively with the output.nproc or image.nproc options). In this case, you can ask the Process command to split up the total amount of work into njobs and only do one of those jobs here. To do this, set njobs to be the number of jobs total and job to be which job should be done here.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None] </td></tr>
    <tr><td class="paramname">njobs</td><td>The total number of jobs to split the work into. [default: 1] </td></tr>
    <tr><td class="paramname">job</td><td>Which job should be worked on here (1..njobs). [default: 1] </td></tr>
    <tr><td class="paramname">new_params</td><td>A dict of new parameter values that should be used to update the config dict after any template loading (if any). [default: None] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a55a2fd92cc7fe479575b851f86ced891"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ProcessAllTemplates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check through the full config dict and process any fields that have a 'template' item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae79f6dc3c4dc6eabda90586ff041dc99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ProcessTemplate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the config dict has a 'template' item, read in the appropriate file and make any requested updates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0283c351828427c396072ca008226b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ReadConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_type</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read in a configuration file and return the corresponding dicts. </p>
<p>A YAML file is allowed to define several dicts using multiple documents. The GalSim parser treats this as a set of multiple jobs to be done. The first document is taken to be a "base" dict that has common definitions for all the jobs. Then each subsequent document has the (usually small) modifications to the base dict for each job. See demo6.yaml, demo8.yaml and demo9.yaml in the GalSim/examples directory for example usage.</p>
<p>On output, base_config is the dict for the first document if there are multiple documents. Then all_config is a list of all the other documents that should be joined with base_dict for each job to be processed. If there is only one document defined, base_dict will be empty, and all_config will be a list of one dict, which is the one to use.</p>
<p>A JSON file does not have this feature, but to be consistent, we always return the tuple (base_config, all_config).</p>
<p>Also, we actually read in the config file into an OrderedDict. The main advantage of this is for the truth catalog. This lets the columns be in the same order as the entries in the config file. With a normal dict, they get scrambled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_file</td><td>The name of the configuration file to read. </td></tr>
    <tr><td class="paramname">file_type</td><td>If given, the type of file to read. [default: None, which mean infer the file type from the extension.] </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(base_config, all_config) </dd></dl>

</div>
</div>
<a class="anchor" id="a8fc6be7003a2a8c7ee886b88326e5901"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ReadJson </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read in a JSON configuration file and return the corresponding dicts. </p>
<p>A JSON file only defines a single dict. However to be parallel to the functionality of ReadYaml, the output is base_config, all_config, where base_config is an empty dict, and all_config is a list with a single item, which is the dict defined by the JSON file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_file</td><td>The name of the configuration file to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(base_config, all_config) </dd></dl>

</div>
</div>
<a class="anchor" id="a3e2f45373eb6b5719628e30931548d2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.ReadYaml </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read in a YAML configuration file and return the corresponding dicts. </p>
<p>A YAML file is allowed to define several dicts using multiple documents. The GalSim parser treats this as a set of multiple jobs to be done. The first document is taken to be a "base" dict that has common definitions for all the jobs. Then each subsequent document has the (usually small) modifications to the base dict for each job. See demo6.yaml, demo8.yaml and demo9.yaml in the GalSim/examples directory for example usage.</p>
<p>On output, base_config is the dict for the first document if there are multiple documents. Then all_config is a list of all the other documents that should be joined with base_dict for each job to be processed. If there is only one document defined, base_dict will be empty, and all_config will be a list of one dict, which is the one to use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config_file</td><td>The name of the configuration file to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(base_config, all_config) </dd></dl>

</div>
</div>
<a class="anchor" id="a59e580c3e1f9febd04d1d1645d66e99f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.RemoveCurrent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_safe</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>type</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_key</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove any "current values" stored in the config dict at any level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">keep_safe</td><td>Should current values that are marked as safe be preserved? [default: False] </td></tr>
    <tr><td class="paramname">type</td><td>If provided, only clear the current value of objects that use this particular type. [default: None, which means to remove current values of all types.] </td></tr>
    <tr><td class="paramname">index_key</td><td>If provided, only clear the current value of objects that use this index_key (or start with this index_key, so obj_num also does obj_num_in_file). [default: None] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad8d4cf2fc65618e3bc4b0dd03070c909"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.SetInConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of a (possibly extended) key in a config dict. </p>
<p>If key is a simple string, then this is equivalent to config[key] = value. However, key is allowed to be a chain of keys such as 'gal.items.0.ellip.e', in which case this function will set config['gal']['items'][0]['ellip']['e'] = value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">key</td><td>The possibly extended key.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of that key from the config. </dd></dl>

</div>
</div>
<a class="anchor" id="a1ae416f9452a4670d40d7d436ab58e91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.SetupConfigRNG </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seed_offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the RNG in the config dict. </p>
<ul>
<li>Setup config['image']['random_seed'] if necessary</li>
<li>Set config['rng'] based on appropriate random_seed</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict. </td></tr>
    <tr><td class="paramname">seed_offset</td><td>An offset to use relative to what config['image']['random_seed'] gives. [default: 0]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the seed used to initialize the RNG. </dd></dl>

</div>
</div>
<a class="anchor" id="ad5c4bde507ac32fb97ee20d3ac727d10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.UpdateConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the given config dict with additional parameters/values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict to update. </td></tr>
    <tr><td class="paramname">new_params</td><td>A dict of parameters to update. The keys of this dict may be chained field names, such as gal.first.dilate, which will be parsed to update config['gal']['first']['dilate']. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7efe4ce1dfa45aa7889437310d6585c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.process.UpdateNProc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nproc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ntot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update nproc. </p>
<ul>
<li>If nproc &lt; 0, set nproc to ncpu</li>
<li>Make sure nproc &lt;= ntot</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nproc</td><td>The nominal number of processes from the config dict </td></tr>
    <tr><td class="paramname">ntot</td><td>The total number of files/images/stamps to do, so the maximum number of processes that would make sense. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict to copy. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. [default: None]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of processes to use. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a1569f7820d7d2e9e7f8c4984410d370f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">galsim.config.process.OrderedDict = dict</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
