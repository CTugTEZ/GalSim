<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GalSim: galsim.noise Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1noise.html">noise</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">galsim.noise Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_base_noise.html">BaseNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for all noise classes.  <a href="classgalsim_1_1noise_1_1_base_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_c_c_d_noise.html">CCDNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class implementing a basic CCD noise model.  <a href="classgalsim_1_1noise_1_1_c_c_d_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_deviate_noise.html">DeviateNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class implementing noise with an arbitrary <a class="el" href="classgalsim_1_1_base_deviate.html" title="Base class for all the various Deviates. ">BaseDeviate</a> object.  <a href="classgalsim_1_1noise_1_1_deviate_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_gaussian_noise.html">GaussianNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class implementing simple Gaussian noise.  <a href="classgalsim_1_1noise_1_1_gaussian_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_poisson_noise.html">PoissonNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class implementing Poisson noise according to the flux (and sky level) present in the image.  <a href="classgalsim_1_1noise_1_1_poisson_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1noise_1_1_variable_gaussian_noise.html">VariableGaussianNoise</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class implementing Gaussian noise that has a different variance in each pixel.  <a href="classgalsim_1_1noise_1_1_variable_gaussian_noise.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1afd3fbea0d8d429c5c491b3d8dc781"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1noise.html#af1afd3fbea0d8d429c5c491b3d8dc781">addNoise</a> (self, noise)</td></tr>
<tr class="memdesc:af1afd3fbea0d8d429c5c491b3d8dc781"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add noise to the image according to a supplied noise model.  <a href="#af1afd3fbea0d8d429c5c491b3d8dc781">More...</a><br /></td></tr>
<tr class="separator:af1afd3fbea0d8d429c5c491b3d8dc781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89a14c6845b5794a2d02f8327dadaa96"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1noise.html#a89a14c6845b5794a2d02f8327dadaa96">addNoiseSNR</a> (self, noise, snr, preserve_flux=False)</td></tr>
<tr class="memdesc:a89a14c6845b5794a2d02f8327dadaa96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds noise to the image in a way that achieves the specified signal-to-noise ratio.  <a href="#a89a14c6845b5794a2d02f8327dadaa96">More...</a><br /></td></tr>
<tr class="separator:a89a14c6845b5794a2d02f8327dadaa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af1afd3fbea0d8d429c5c491b3d8dc781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1afd3fbea0d8d429c5c491b3d8dc781">&#9670;&nbsp;</a></span>addNoise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.noise.addNoise </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add noise to the image according to a supplied noise model. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">noise</td><td>The noise (<a class="el" href="classgalsim_1_1noise_1_1_base_noise.html" title="Base class for all noise classes. ">BaseNoise</a>) model to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89a14c6845b5794a2d02f8327dadaa96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89a14c6845b5794a2d02f8327dadaa96">&#9670;&nbsp;</a></span>addNoiseSNR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.noise.addNoiseSNR </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>noise</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>snr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>preserve_flux</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds noise to the image in a way that achieves the specified signal-to-noise ratio. </p>
<p>The given SNR (<code>snr</code>) can be achieved either by scaling the flux of the object while keeping the noise level fixed, or the flux can be preserved and the noise variance changed. This is set using the parameter <code>preserve_flux</code>.</p>
<p>The definition of SNR is equivalent to the one used by Great08. Taking a weighted integral of the flux: S = sum W(x,y) I(x,y) / sum W(x,y) N^2 = Var(S) = sum W(x,y)^2 Var(I(x,y)) / (sum W(x,y))^2 and assuming that Var(I(x,y)) is constant Var(I(x,y)) = noise_var We then assume that we are using a matched filter for W, so W(x,y) = I(x,y). Then a few things cancel and we find that snr = S/N = sqrt( sum I(x,y)^2 / noise_var ) and therefore, for a given I(x,y) and snr, noise_var = sum I(x,y)^2/snr^2.</p>
<p>Note that for noise models such as Poisson and <a class="el" href="classgalsim_1_1noise_1_1_c_c_d_noise.html" title="Class implementing a basic CCD noise model. ">CCDNoise</a>, the constant Var(I(x,y)) assumption is only approximate, since the flux of the object adds to the Poisson noise in those pixels. Thus, the real S/N on the final image will be slightly lower than the target <code>snr</code> value, and this effect will be larger for brighter objects.</p>
<p>Also, this function relies on noise.getVariance() to determine how much variance the noise model will add. Thus, it will not work for noise models that do not have a well- defined variance, such as <a class="el" href="classgalsim_1_1noise_1_1_variable_gaussian_noise.html" title="Class implementing Gaussian noise that has a different variance in each pixel. ">VariableGaussianNoise</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">noise</td><td>The noise (<a class="el" href="classgalsim_1_1noise_1_1_base_noise.html" title="Base class for all noise classes. ">BaseNoise</a>) model to use. </td></tr>
    <tr><td class="paramname">snr</td><td>The desired signal-to-noise after the noise is applied. </td></tr>
    <tr><td class="paramname">preserve_flux</td><td>Whether to preserve the flux of the object (True) or the variance of the noise model (False) to achieve the desired SNR. [default: False]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the variance of the noise that was applied to the image. </dd></dl>

</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14</small></address>
</body>
</html>
