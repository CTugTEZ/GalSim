<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GalSim: galsim.wfirst.wfirst_wcs Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1wfirst.html">wfirst</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html">wfirst_wcs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">galsim.wfirst.wfirst_wcs Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aabb4c000140bef579c2426849bfb8d1c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#aabb4c000140bef579c2426849bfb8d1c">getWCS</a></td></tr>
<tr class="memdesc:aabb4c000140bef579c2426849bfb8d1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine returns a dict containing a WCS for each of the WFIRST SCAs (Sensor Chip Array, the equivalent of a chip in an optical CCD).  <a href="#aabb4c000140bef579c2426849bfb8d1c">More...</a><br/></td></tr>
<tr class="separator:aabb4c000140bef579c2426849bfb8d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416f7862186ca3bf7c5052e3c0aff869"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a416f7862186ca3bf7c5052e3c0aff869">findSCA</a></td></tr>
<tr class="memdesc:a416f7862186ca3bf7c5052e3c0aff869"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a subroutine to take a dict of WCS (one per SCA) from <a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#aabb4c000140bef579c2426849bfb8d1c" title="This routine returns a dict containing a WCS for each of the WFIRST SCAs (Sensor Chip Array...">galsim.wfirst.getWCS()</a> and query which SCA a particular real-world coordinate would be located on.  <a href="#a416f7862186ca3bf7c5052e3c0aff869">More...</a><br/></td></tr>
<tr class="separator:a416f7862186ca3bf7c5052e3c0aff869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71fa3d36e0971c1e89efc6dcfba039b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ab71fa3d36e0971c1e89efc6dcfba039b">allowedPos</a></td></tr>
<tr class="memdesc:ab71fa3d36e0971c1e89efc6dcfba039b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine can be used to check whether WFIRST would be allowed to look at a particular position (<code>world_pos</code>) on a given <code>date</code>.  <a href="#ab71fa3d36e0971c1e89efc6dcfba039b">More...</a><br/></td></tr>
<tr class="separator:ab71fa3d36e0971c1e89efc6dcfba039b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385b88809d3da3308fb9e9b4af159da0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a385b88809d3da3308fb9e9b4af159da0">bestPA</a></td></tr>
<tr class="memdesc:a385b88809d3da3308fb9e9b4af159da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine determines the best position angle for the observatory for a given observation date and position on the sky.  <a href="#a385b88809d3da3308fb9e9b4af159da0">More...</a><br/></td></tr>
<tr class="separator:a385b88809d3da3308fb9e9b4af159da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4f91042e801cb5363789202e955c4d33"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a4f91042e801cb5363789202e955c4d33">pixel_size_mm</a> = 0.01</td></tr>
<tr class="separator:a4f91042e801cb5363789202e955c4d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521f54f4b38b163822e17e37828cfaa3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a> = 18500</td></tr>
<tr class="separator:a521f54f4b38b163822e17e37828cfaa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d737facb302cf43c0776b7efc24ba3"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ab4d737facb302cf43c0776b7efc24ba3">pix_scale</a> = (<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a4f91042e801cb5363789202e955c4d33">pixel_size_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td></tr>
<tr class="separator:ab4d737facb302cf43c0776b7efc24ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72d28125348c282e4e556f01ca9bfb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ad72d28125348c282e4e556f01ca9bfb3">n_sip</a> = 5</td></tr>
<tr class="separator:ad72d28125348c282e4e556f01ca9bfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e14eb203d568cdff7c4469350e0693e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a3e14eb203d568cdff7c4469350e0693e">tel_name</a> = &quot;WFIRST&quot;</td></tr>
<tr class="separator:a3e14eb203d568cdff7c4469350e0693e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ceb5bcc75d970e1a50073ecca7f2984"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a3ceb5bcc75d970e1a50073ecca7f2984">instr_name</a> = &quot;WFI&quot;</td></tr>
<tr class="separator:a3ceb5bcc75d970e1a50073ecca7f2984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331a89a6da3c60709ea6e0d95f681c5b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a331a89a6da3c60709ea6e0d95f681c5b">optics_design_ver</a> = &quot;4.2.2&quot;</td></tr>
<tr class="separator:a331a89a6da3c60709ea6e0d95f681c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2a8f6ee7617b1e74cae95e61621eb3"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a2c2a8f6ee7617b1e74cae95e61621eb3">prog_version</a> = &quot;0.4&quot;</td></tr>
<tr class="separator:a2c2a8f6ee7617b1e74cae95e61621eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09720305058853b4bba07d6135b47189"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a09720305058853b4bba07d6135b47189">sca_xc_mm</a></td></tr>
<tr class="separator:a09720305058853b4bba07d6135b47189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae22c32a9cc7565fc60e0849297d4033a"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ae22c32a9cc7565fc60e0849297d4033a">sca_yc_mm</a></td></tr>
<tr class="separator:ae22c32a9cc7565fc60e0849297d4033a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f486db110ec64a242eae3294433163"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ab0f486db110ec64a242eae3294433163">fpa_xc_mm</a> = 0.0</td></tr>
<tr class="separator:ab0f486db110ec64a242eae3294433163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b3cc0310074fd8297be0ca51637bc8"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ac6b3cc0310074fd8297be0ca51637bc8">fpa_yc_mm</a></td></tr>
<tr class="separator:ac6b3cc0310074fd8297be0ca51637bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447e445125ce51d4e12a579d27fff5c9"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a447e445125ce51d4e12a579d27fff5c9">xc_fpa</a> = np.arctan(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ab0f486db110ec64a242eae3294433163">fpa_xc_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td></tr>
<tr class="separator:a447e445125ce51d4e12a579d27fff5c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1e98658bcdd818bb0c9fb65398ba22"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a0a1e98658bcdd818bb0c9fb65398ba22">yc_fpa</a> = np.arctan(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ac6b3cc0310074fd8297be0ca51637bc8">fpa_yc_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td></tr>
<tr class="separator:a0a1e98658bcdd818bb0c9fb65398ba22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb3577f208416b6ac542be57d4edcc6"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a4cb3577f208416b6ac542be57d4edcc6">sca_rot</a> = np.zeros_like(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a09720305058853b4bba07d6135b47189">sca_xc_mm</a>)</td></tr>
<tr class="separator:a4cb3577f208416b6ac542be57d4edcc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51c71dbb461ef425735a6005169bbb0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#af51c71dbb461ef425735a6005169bbb0">theta_fpa</a> = -60.0</td></tr>
<tr class="separator:af51c71dbb461ef425735a6005169bbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ddbee46f9701d8cd4ec49c3145b5e6"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a66ddbee46f9701d8cd4ec49c3145b5e6">sip_filename</a> = os.path.join(galsim.meta_data.share_dir, 'sip_422.txt')</td></tr>
<tr class="separator:a66ddbee46f9701d8cd4ec49c3145b5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab71fa3d36e0971c1e89efc6dcfba039b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.wfirst.wfirst_wcs.allowedPos </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>world_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine can be used to check whether WFIRST would be allowed to look at a particular position (<code>world_pos</code>) on a given <code>date</code>. </p>
<p>This is determined by the angle of this position relative to the Sun.</p>
<p>In general, WFIRST can point at angles relative to the Sun in the range 90+/-36 degrees. Obviously, pointing too close to the Sun would result in overly high sky backgrounds. It is less obvious why WFIRST cannot look at a spot directly opposite from the Sun (180 degrees on the sky). The reason is that the observatory is aligned such that if the observer is looking at some sky position, the solar panels are oriented at 90 degrees from that position. So it's always optimal for the observatory to be pointing at an angle of 90 degrees relative to the Sun. It is also permitted to look within 36 degrees of that optimal position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world_pos</td><td>A galsim.CelestialCoord indicating the position at which the observer wishes to look. </td></tr>
    <tr><td class="paramname">date</td><td>A python datetime object indicating the desired date of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True or False, indicating whether it is permitted to look at this position on this date. </dd></dl>

</div>
</div>
<a class="anchor" id="a385b88809d3da3308fb9e9b4af159da0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.wfirst.wfirst_wcs.bestPA </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>world_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine determines the best position angle for the observatory for a given observation date and position on the sky. </p>
<p>The best/optimal position angle is determined by the fact that the solar panels are at 90 degrees to the position being observed, and it is best to have those facing the Sun as directly as possible. Note that if a given <code>world_pos</code> is not actually observable on the given <code>date</code>, then this routine will return None.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world_pos</td><td>A galsim.CelestialCoord indicating the position at which the observer wishes to look. </td></tr>
    <tr><td class="paramname">date</td><td>A python datetime object indicating the desired date of observation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the best position angle for the observatory, as a <a class="el" href="classgalsim_1_1_angle.html" title="A class representing an Angle. ">galsim.Angle</a>, or None if the position is not observable. </dd></dl>

</div>
</div>
<a class="anchor" id="a416f7862186ca3bf7c5052e3c0aff869"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.wfirst.wfirst_wcs.findSCA </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>wcs_dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>world_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>include_border</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a subroutine to take a dict of WCS (one per SCA) from <a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#aabb4c000140bef579c2426849bfb8d1c" title="This routine returns a dict containing a WCS for each of the WFIRST SCAs (Sensor Chip Array...">galsim.wfirst.getWCS()</a> and query which SCA a particular real-world coordinate would be located on. </p>
<p>The position (<code>world_pos</code>) should be specified as a galsim.CelestialCoord. If the position is not located on any of the SCAs, the result will be None. Note that if <code>wcs_dict</code> does not include all SCAs in it, then it's possible the position might lie on one of the SCAs that was not included.</p>
<p>Depending on what the user wants to do with the results, they may wish to use the <code>include_border</code> keyword. This keyword determines whether or not to include an additional border corresponding to half of the gaps between SCAs. For example, if a user is drawing a single image they may wish to only know whether a given position falls onto an SCA, and if so, which one (ignoring everything in the gaps). In contrast, a user who plans to make a sequence of dithered images might find it most useful to know whether the position is either on an SCA or close enough that in a small dither sequence it might appear on the SCA at some point. Use of <code>include_border</code> switches between these scenarios.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wcs_dict</td><td>The dict of WCS's output from <a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#aabb4c000140bef579c2426849bfb8d1c" title="This routine returns a dict containing a WCS for each of the WFIRST SCAs (Sensor Chip Array...">galsim.wfirst.getWCS()</a>. </td></tr>
    <tr><td class="paramname">world_pos</td><td>A galsim.CelestialCoord indicating the sky position of interest. </td></tr>
    <tr><td class="paramname">include_border</td><td>If True, then include the half-border around SCA to cover the gap between each sensor. [default: False] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer value of the SCA on which the position falls, or None if the position is not on any SCA. </dd></dl>

</div>
</div>
<a class="anchor" id="aabb4c000140bef579c2426849bfb8d1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.wfirst.wfirst_wcs.getWCS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>world_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PA</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>date</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SCAs</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>PA_is_FPA</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine returns a dict containing a WCS for each of the WFIRST SCAs (Sensor Chip Array, the equivalent of a chip in an optical CCD). </p>
<p>The WFIRST SCAs are labeled 1-18, so these numbers are used as the keys in the dict. Alternatively the user can request a subset of the SCAs using the <code>SCAs</code> option. The basic instrument parameters used to create the WCS correspond to those in Cycle 6, which includes some significant updates from Cycle 5, including a 90 degree rotation of the focal plane axes relative to the payload axes, and two rows of SCAs are swapped.</p>
<p>The user must specify a position for observation, at which the center of the focal plane array will point. This must be supplied as a CelestialCoord <code>world_pos</code>. In general, only certain positions are observable on certain dates, and for a given position there is an optimal position angle for the observatory (with the solar panels pointed as directly towards the sun as possible). Users who are knowledgable about these details may choose to supply a position angle as <code>PA</code>, either for the observatory or for the focal plane (using <code>PA_is_FPA</code> to indicate this). But otherwise, the routine will simply choose the optimal position angle for a given date.</p>
<p>To fully understand all possible inputs and outputs to this routine, users may wish to consult the diagram on the GalSim wiki, <a href="https://github.com/GalSim-developers/GalSim/wiki/GalSim-WFIRST-module-diagrams">https://github.com/GalSim-developers/GalSim/wiki/GalSim-WFIRST-module-diagrams</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">world_pos</td><td>A galsim.CelestialCoord indicating the position to observe at the center of the focal plane array (FPA). Note that if the given position is not observable on the given date, then the routine will raise an exception. </td></tr>
    <tr><td class="paramname">PA</td><td><a class="el" href="classgalsim_1_1_angle.html" title="A class representing an Angle. ">galsim.Angle</a> representing the position angle of the observatory +Y axis, unless <code>PA_is_FPA=True</code>, in which case it's the position angle of the FPA. For users to do not care about this, then leaving this as None will result in the routine using the supplied <code>date</code> and <code>world_pos</code> to select the optimal orientation for the observatory. Note that if a user supplies a <code>PA</code> value, the routine does not check whether this orientation is actually allowed. [default: None] </td></tr>
    <tr><td class="paramname">date</td><td>The date of the observation, as a python datetime object. If None, then the vernal equinox in 2025 will be used. [default: None] </td></tr>
    <tr><td class="paramname">PA_is_FPA</td><td>If True, then the position angle that was provided was the PA of the focal plane array, not the observatory. [default: False] </td></tr>
    <tr><td class="paramname">SCAs</td><td>A single number or iterable giving the SCAs for which the WCS should be obtained. If None, then the WCS is calculated for all SCAs. [default: None] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a dict of WCS objects for each SCA. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a521f54f4b38b163822e17e37828cfaa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int galsim.wfirst.wfirst_wcs.focal_length = 18500</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab0f486db110ec64a242eae3294433163"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float galsim.wfirst.wfirst_wcs.fpa_xc_mm = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac6b3cc0310074fd8297be0ca51637bc8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.fpa_yc_mm</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html">    1</a></span>&#160;= focal_length*(np.tan(0.46107*galsim.degrees/galsim.radians) - \</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                                   np.tan(-0.038903*galsim.degrees/galsim.radians))</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ceb5bcc75d970e1a50073ecca7f2984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string galsim.wfirst.wfirst_wcs.instr_name = &quot;WFI&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad72d28125348c282e4e556f01ca9bfb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int galsim.wfirst.wfirst_wcs.n_sip = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a331a89a6da3c60709ea6e0d95f681c5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string galsim.wfirst.wfirst_wcs.optics_design_ver = &quot;4.2.2&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4d737facb302cf43c0776b7efc24ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.pix_scale = (<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a4f91042e801cb5363789202e955c4d33">pixel_size_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4f91042e801cb5363789202e955c4d33"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float galsim.wfirst.wfirst_wcs.pixel_size_mm = 0.01</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2c2a8f6ee7617b1e74cae95e61621eb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string galsim.wfirst.wfirst_wcs.prog_version = &quot;0.4&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4cb3577f208416b6ac542be57d4edcc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.sca_rot = np.zeros_like(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a09720305058853b4bba07d6135b47189">sca_xc_mm</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a09720305058853b4bba07d6135b47189"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.sca_xc_mm</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html">    1</a></span>&#160;= np.array([0., 21.44, 21.44, 21.44, 67.32, 67.32, 67.32, 113.20, 113.20,</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                      113.20, -21.44, -21.44, -21.44,  -67.32, -67.32, -67.32, -113.20,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                      -113.20, -113.20])</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae22c32a9cc7565fc60e0849297d4033a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.sca_yc_mm</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html">    1</a></span>&#160;= np.array([0., -12.88,  30.00,  72.88, -24.88,  18.00,  60.88,  -42.88,     0.0,</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;                      42.88,  -12.88, 30.00, 72.88, -24.88, 18.00, 60.88, -42.88,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;                      0.00,    42.88])</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a66ddbee46f9701d8cd4ec49c3145b5e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.sip_filename = os.path.join(galsim.meta_data.share_dir, 'sip_422.txt')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e14eb203d568cdff7c4469350e0693e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string galsim.wfirst.wfirst_wcs.tel_name = &quot;WFIRST&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af51c71dbb461ef425735a6005169bbb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float galsim.wfirst.wfirst_wcs.theta_fpa = -60.0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a447e445125ce51d4e12a579d27fff5c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.xc_fpa = np.arctan(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ab0f486db110ec64a242eae3294433163">fpa_xc_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0a1e98658bcdd818bb0c9fb65398ba22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple galsim.wfirst.wfirst_wcs.yc_fpa = np.arctan(<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#ac6b3cc0310074fd8297be0ca51637bc8">fpa_yc_mm</a>/<a class="el" href="namespacegalsim_1_1wfirst_1_1wfirst__wcs.html#a521f54f4b38b163822e17e37828cfaa3">focal_length</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6</small></address>
</body>
</html>
