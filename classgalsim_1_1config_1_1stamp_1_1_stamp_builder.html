<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GalSim: galsim.config.stamp.StampBuilder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GalSim
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">The modular galaxy image simulation toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegalsim.html">galsim</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1config.html">config</a></li><li class="navelem"><a class="el" href="namespacegalsim_1_1config_1_1stamp.html">stamp</a></li><li class="navelem"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html">StampBuilder</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">galsim.config.stamp.StampBuilder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A base class for building stamp images of individual objects.  
 <a href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for galsim.config.stamp.StampBuilder:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.png" usemap="#galsim.config.stamp.StampBuilder_map" alt=""/>
  <map id="galsim.config.stamp.StampBuilder_map" name="galsim.config.stamp.StampBuilder_map">
<area href="classgalsim_1_1config_1_1stamp__ring_1_1_ring_builder.html" title="This performs the tasks necessary for building a Ring stamp type. " alt="galsim.config.stamp_ring.RingBuilder" shape="rect" coords="0,56,220,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef20415f15474e4cb8cea6410b6c012f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#aef20415f15474e4cb8cea6410b6c012f">setup</a> (self, config, base, xsize, ysize, ignore, logger)</td></tr>
<tr class="memdesc:aef20415f15474e4cb8cea6410b6c012f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the initialization and setup for building a postage stamp.  <a href="#aef20415f15474e4cb8cea6410b6c012f">More...</a><br /></td></tr>
<tr class="separator:aef20415f15474e4cb8cea6410b6c012f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3435c1e5dffb68940ece7588ac9e14ad"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a3435c1e5dffb68940ece7588ac9e14ad">buildProfile</a> (self, config, base, psf, gsparams, logger)</td></tr>
<tr class="memdesc:a3435c1e5dffb68940ece7588ac9e14ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the surface brightness profile (a GSObject) to be drawn.  <a href="#a3435c1e5dffb68940ece7588ac9e14ad">More...</a><br /></td></tr>
<tr class="separator:a3435c1e5dffb68940ece7588ac9e14ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3e5f2a46f504b0c02d194ad3f3569c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a3e3e5f2a46f504b0c02d194ad3f3569c">makeStamp</a> (self, config, base, xsize, ysize, logger)</td></tr>
<tr class="memdesc:a3e3e5f2a46f504b0c02d194ad3f3569c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the initial empty postage stamp image, if possible.  <a href="#a3e3e5f2a46f504b0c02d194ad3f3569c">More...</a><br /></td></tr>
<tr class="separator:a3e3e5f2a46f504b0c02d194ad3f3569c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc5a99966f20e8cf964fb062fc7931c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#aabc5a99966f20e8cf964fb062fc7931c">updateSkip</a> (self, prof, image, method, offset, config, base, logger)</td></tr>
<tr class="memdesc:aabc5a99966f20e8cf964fb062fc7931c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Before drawing the profile, see whether this object can be trivially skipped.  <a href="#aabc5a99966f20e8cf964fb062fc7931c">More...</a><br /></td></tr>
<tr class="separator:aabc5a99966f20e8cf964fb062fc7931c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a28b86c25d6d43c4faa58b9baff4f3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#aa6a28b86c25d6d43c4faa58b9baff4f3">draw</a> (self, prof, image, method, offset, config, base, logger)</td></tr>
<tr class="memdesc:aa6a28b86c25d6d43c4faa58b9baff4f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the profile on the postage stamp image.  <a href="#aa6a28b86c25d6d43c4faa58b9baff4f3">More...</a><br /></td></tr>
<tr class="separator:aa6a28b86c25d6d43c4faa58b9baff4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9beb37206e593259e465700dc0c8d805"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a9beb37206e593259e465700dc0c8d805">whiten</a> (self, prof, image, config, base, logger)</td></tr>
<tr class="memdesc:a9beb37206e593259e465700dc0c8d805"><td class="mdescLeft">&#160;</td><td class="mdescRight">If appropriate, whiten the resulting image according to the requested noise profile and the amount of noise originally present in the profile.  <a href="#a9beb37206e593259e465700dc0c8d805">More...</a><br /></td></tr>
<tr class="separator:a9beb37206e593259e465700dc0c8d805"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b4da0d9d5ab962303d71b0b1c36661"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#ab5b4da0d9d5ab962303d71b0b1c36661">getSNRScale</a> (self, image, config, base, logger)</td></tr>
<tr class="memdesc:ab5b4da0d9d5ab962303d71b0b1c36661"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the factor by which to rescale the image based on a desired S/N level.  <a href="#ab5b4da0d9d5ab962303d71b0b1c36661">More...</a><br /></td></tr>
<tr class="separator:ab5b4da0d9d5ab962303d71b0b1c36661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f62a207d92c3b6b0b0431283c9f47"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a859f62a207d92c3b6b0b0431283c9f47">applySNRScale</a> (self, image, prof, scale_factor, method, logger)</td></tr>
<tr class="memdesc:a859f62a207d92c3b6b0b0431283c9f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the scale_factor from getSNRScale to the image and profile.  <a href="#a859f62a207d92c3b6b0b0431283c9f47">More...</a><br /></td></tr>
<tr class="separator:a859f62a207d92c3b6b0b0431283c9f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e19b517a36bbb316c39361b75ce6ec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a15e19b517a36bbb316c39361b75ce6ec">reject</a> (self, config, base, prof, psf, image, logger)</td></tr>
<tr class="memdesc:a15e19b517a36bbb316c39361b75ce6ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if this object should be rejected.  <a href="#a15e19b517a36bbb316c39361b75ce6ec">More...</a><br /></td></tr>
<tr class="separator:a15e19b517a36bbb316c39361b75ce6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b1e60fae881e415922c5f2317daf85"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a48b1e60fae881e415922c5f2317daf85">reset</a> (self, base, logger)</td></tr>
<tr class="memdesc:a48b1e60fae881e415922c5f2317daf85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset some aspects of the config dict so the object can be rebuilt after rejecting the current object.  <a href="#a48b1e60fae881e415922c5f2317daf85">More...</a><br /></td></tr>
<tr class="separator:a48b1e60fae881e415922c5f2317daf85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f09d618f529aae8f3e948a9166c5f9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a37f09d618f529aae8f3e948a9166c5f9">addNoise</a> (self, config, base, image, skip, current_var, logger)</td></tr>
<tr class="memdesc:a37f09d618f529aae8f3e948a9166c5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the sky level and the noise to the stamp.  <a href="#a37f09d618f529aae8f3e948a9166c5f9">More...</a><br /></td></tr>
<tr class="separator:a37f09d618f529aae8f3e948a9166c5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1461d1a8f4341fad94dc01e45d301f8f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgalsim_1_1config_1_1stamp_1_1_stamp_builder.html#a1461d1a8f4341fad94dc01e45d301f8f">makeTasks</a> (self, config, base, jobs, logger)</td></tr>
<tr class="memdesc:a1461d1a8f4341fad94dc01e45d301f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn a list of jobs into a list of tasks.  <a href="#a1461d1a8f4341fad94dc01e45d301f8f">More...</a><br /></td></tr>
<tr class="separator:a1461d1a8f4341fad94dc01e45d301f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for building stamp images of individual objects. </p>
<p>The base class defines the call signatures of the methods that any derived class should follow. It also includes the implementation of the default stamp type: Basic. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a37f09d618f529aae8f3e948a9166c5f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f09d618f529aae8f3e948a9166c5f9">&#9670;&nbsp;</a></span>addNoise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.addNoise </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>skip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the sky level and the noise to the stamp. </p>
<p>Note: This only gets called if the image type requests that the noise be added to each stamp individually, rather than to the full image and the end.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">image</td><td>The current image. </td></tr>
    <tr><td class="paramname">skip</td><td>Are we skipping this image? (Usually this is irrelevant, since we need sky and noise regardless, but user-defined classes might choose to do something different if skipping this object.) </td></tr>
    <tr><td class="paramname">current_var</td><td>The current noise variance present in the image already. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns the new values of image, current_var</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a859f62a207d92c3b6b0b0431283c9f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f62a207d92c3b6b0b0431283c9f47">&#9670;&nbsp;</a></span>applySNRScale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.applySNRScale </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale_factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the scale_factor from getSNRScale to the image and profile. </p>
<p>The default implementaion just multiplies each of them, but if prof is not a regular GSObject, then you might need to do something different.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The current image. </td></tr>
    <tr><td class="paramname">prof</td><td>The profile that was drawn. </td></tr>
    <tr><td class="paramname">scale_factor</td><td>The factor by which to scale both image and prof. </td></tr>
    <tr><td class="paramname">method</td><td>The method used by drawImage. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns image, prof  (after being properly scaled)</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3435c1e5dffb68940ece7588ac9e14ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3435c1e5dffb68940ece7588ac9e14ad">&#9670;&nbsp;</a></span>buildProfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.buildProfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>psf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gsparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the surface brightness profile (a GSObject) to be drawn. </p>
<p>For the Basic stamp type, this builds a galaxy from the base['gal'] dict and convolves it with the psf (if given). If either the psf or the galaxy is None, then the other one is returned as is.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">psf</td><td>The PSF, if any. This may be None, in which case, no PSF is convolved. </td></tr>
    <tr><td class="paramname">gsparams</td><td>A dict of kwargs to use for a <a class="el" href="structgalsim_1_1_g_s_params.html">GSParams</a>. More may be added to this list by the galaxy object. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns the final profile</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6a28b86c25d6d43c4faa58b9baff4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a28b86c25d6d43c4faa58b9baff4f3">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.draw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the profile on the postage stamp image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prof</td><td>The profile to draw. </td></tr>
    <tr><td class="paramname">image</td><td>The image onto which to draw the profile (which may be None). </td></tr>
    <tr><td class="paramname">method</td><td>The method to use in drawImage. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset to apply when drawing. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns the resulting image</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab5b4da0d9d5ab962303d71b0b1c36661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b4da0d9d5ab962303d71b0b1c36661">&#9670;&nbsp;</a></span>getSNRScale()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.getSNRScale </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the factor by which to rescale the image based on a desired S/N level. </p>
<p>Note: The default implementation does this for the gal or psf field, so if a custom stamp builder uses some other way to get the profiles, this method should probably be overridden.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The current image. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns scale_factor</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e3e5f2a46f504b0c02d194ad3f3569c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3e5f2a46f504b0c02d194ad3f3569c">&#9670;&nbsp;</a></span>makeStamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.makeStamp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ysize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make the initial empty postage stamp image, if possible. </p>
<p>If we don't know xsize, ysize, return None, in which case the stamp will be created automatically by the drawImage command based on the natural size of the profile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">xsize</td><td>The xsize of the image to build (if known). </td></tr>
    <tr><td class="paramname">ysize</td><td>The ysize of the image to build (if known). </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns the image</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1461d1a8f4341fad94dc01e45d301f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1461d1a8f4341fad94dc01e45d301f8f">&#9670;&nbsp;</a></span>makeTasks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.makeTasks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn a list of jobs into a list of tasks. </p>
<p>For the Basic stamp type, there is just one job per task, so the tasks list is just: </p><pre class="fragment">tasks = [ [ (job, k) ] for k, job in enumerate(jobs) ]
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">jobs</td><td>A list of jobs to split up into tasks. Each job in the list is a dict of parameters that includes 'obj_num'. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns a list of tasks</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15e19b517a36bbb316c39361b75ce6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e19b517a36bbb316c39361b75ce6ec">&#9670;&nbsp;</a></span>reject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.reject </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>psf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if this object should be rejected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">prof</td><td>The profile that was drawn. </td></tr>
    <tr><td class="paramname">psf</td><td>The psf that was used to build the profile. </td></tr>
    <tr><td class="paramname">image</td><td>The postage stamp image. No noise is on it yet at this point. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns whether to reject this object</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48b1e60fae881e415922c5f2317daf85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b1e60fae881e415922c5f2317daf85">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset some aspects of the config dict so the object can be rebuilt after rejecting the current object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef20415f15474e4cb8cea6410b6c012f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef20415f15474e4cb8cea6410b6c012f">&#9670;&nbsp;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.setup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ysize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do the initialization and setup for building a postage stamp. </p>
<p>In the base class, we check for and parse the appropriate size and position values in config (aka base['stamp'] or base['image'].</p>
<p>Values given in base['stamp'] take precedence if these are given in both places (which would be confusing, so probably shouldn't do that, but there might be a use case where it would make sense).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">xsize</td><td>The xsize of the image to build (if known). </td></tr>
    <tr><td class="paramname">ysize</td><td>The ysize of the image to build (if known). </td></tr>
    <tr><td class="paramname">ignore</td><td>A list of parameters that are allowed to be in config that we can ignore here. i.e. it won't be an error if these parameters are present. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns xsize, ysize, image_pos, world_pos</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabc5a99966f20e8cf964fb062fc7931c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc5a99966f20e8cf964fb062fc7931c">&#9670;&nbsp;</a></span>updateSkip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.updateSkip </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Before drawing the profile, see whether this object can be trivially skipped. </p>
<p>The base method checks if the object is completely off the main image, so the intersection bounds will be undefined. In this case, don't bother drawing the postage stamp for this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prof</td><td>The profile to draw. </td></tr>
    <tr><td class="paramname">image</td><td>The image onto which to draw the profile (which may be None). </td></tr>
    <tr><td class="paramname">method</td><td>The method to use in drawImage. </td></tr>
    <tr><td class="paramname">offset</td><td>The offset to apply when drawing. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns whether to skip drawing this object.</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9beb37206e593259e465700dc0c8d805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9beb37206e593259e465700dc0c8d805">&#9670;&nbsp;</a></span>whiten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def galsim.config.stamp.StampBuilder.whiten </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If appropriate, whiten the resulting image according to the requested noise profile and the amount of noise originally present in the profile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prof</td><td>The profile to draw. </td></tr>
    <tr><td class="paramname">image</td><td>The image onto which to draw the profile. </td></tr>
    <tr><td class="paramname">config</td><td>The configuration dict for the stamp field. </td></tr>
    <tr><td class="paramname">base</td><td>The base configuration dict. </td></tr>
    <tr><td class="paramname">logger</td><td>If given, a logger object to log progress. <pre class="fragment">    @returns the variance of the resulting whitened (or symmetrized) image.</pre> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>galsim/config/<a class="el" href="stamp_8py.html">stamp.py</a></li>
</ul>
</div><!-- contents -->
<hr class="footer"/><address class="footer"><small>
Generated for GalSim by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14</small></address>
</body>
</html>
